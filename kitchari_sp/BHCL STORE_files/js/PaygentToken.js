function PaygentToken(){this.URL="https://token.paygent.co.jp/n/token/request",this.TIMEOUT=35e3}PaygentToken.prototype={createToken:function(e,t,n,r){var o=this;try{var c,a=!1;if("undefined"!=typeof XMLHttpRequest&&"withCredentials"in(c=new XMLHttpRequest)&&(a=!0),!a){if("undefined"==typeof XDomainRequest)return r(this.createErrObj("7000"));c=new XDomainRequest}c.onerror=function(e){return r(o.createErrObj("7001"))},c.ontimeout=function(e){return r(o.createErrObj("7001"))},c.onprogress=function(){},c.onload=function(){var e;try{e=JSON.parse(c.responseText)}catch(e){return r(o.createErrObj("7001"))}return r(e)},a?(c.open("POST",this.URL,!0),c.setRequestHeader("Content-Type","text/plain;charset=UTF-8")):c.open("POST",this.URL),c.timeout=this.TIMEOUT,c.send("merchant_id="+encodeURIComponent(e)+"&token_generate_key="+encodeURIComponent(t)+"&card_number="+encodeURIComponent(n.card_number)+"&card_expire_year="+encodeURIComponent(n.expire_year)+"&card_expire_month="+encodeURIComponent(n.expire_month)+"&card_cvc="+(void 0===n.cvc?"":encodeURIComponent(n.cvc))+"&card_name="+encodeURIComponent(n.name))}catch(e){return r(o.createErrObj("7001"))}},createCvcToken:function(e,t,n,r){var o=this;try{var c,a=!1;if("undefined"!=typeof XMLHttpRequest&&"withCredentials"in(c=new XMLHttpRequest)&&(a=!0),!a){if("undefined"==typeof XDomainRequest)return r(this.createErrObj("7000"));c=new XDomainRequest}c.onerror=function(e){return r(o.createErrObj("7001"))},c.ontimeout=function(e){return r(o.createErrObj("7001"))},c.onprogress=function(){},c.onload=function(){var e;try{e=JSON.parse(c.responseText)}catch(e){return r(o.createErrObj("7001"))}return r(e)},a?(c.open("POST",this.URL,!0),c.setRequestHeader("Content-Type","text/plain;charset=UTF-8")):c.open("POST",this.URL),c.timeout=this.TIMEOUT,c.send("merchant_id="+encodeURIComponent(e)+"&token_generate_key="+encodeURIComponent(t)+"&card_cvc="+encodeURIComponent(n.cvc)+"&cvc_only_flg="+encodeURIComponent(1))}catch(e){return r(o.createErrObj("7001"))}},createErrObj:function(e){return{result:e}}};